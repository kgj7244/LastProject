<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- namespace xml을 구별하기 위한 이름 -->
<!-- resultMap는 table에 컬럼명과 class에 dept변수명이 다를 때 mapping하는 용도 -->
<mapper namespace="theaterns">
	<select id="locList" parameterType="theater" resultType="theater">
		select distinct t_loc from theater order by t_loc
		<!-- select distinct t_loc, (select count(*) from theater where t_loc = #{t_loc}) as t_total from theater order by t_loc -->
	</select>
	<select id="selectTheater" parameterType="string" resultType="theater">
		select * from theater where t_loc=#{id} 
	</select>
	<select id="selectTitle" parameterType="string" resultType="theater">
		select * from theater where t_title =#{t_title}
	</select>
	<select id="list" resultType="theater">
		select * from theater order by t_title
	</select>
	<select id="listT_loc" resultType="theater">
		select distinct t_loc from theater order by t_loc
	</select>
	<insert id="insert" parameterType="theater">
		insert into theater values (theater_t_num_seq.nextval, #{t_title}, #{t_loc}, #{t_addr}, 
			#{t_number}, #{t_gui})
	</insert>
	<select id="select" parameterType="integer" resultType="theater">
		select * from theater where t_num=#{t_num}
	</select>
	<select id="titleList" resultType="theater">
		select * from theater
	</select>
</mapper>