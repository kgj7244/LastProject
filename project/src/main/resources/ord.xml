<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- namespace xml을 구별하기 위한 이름 -->
<!-- resultMap는 table에 컬럼명과 class에 dept변수명이 다를 때 mapping하는 용도 -->
<mapper namespace="ordns">
<resultMap type="ord" id="ordResult">
	<result column="ord_num" property="ord_num"/>
	<result column="member_id" property="member_id"/>
	<result column="s_num" property="s_num"/>
	
	<result column="s_purchase" property="s_purchase"/>
	<result column="full_price" property="full_price"/>
	<result column="buy_date" property="buy_date"/>
	<result column="s_validity" property="s_validity"/>		
	<result column="buy_i" property="buy_i"/>		
	<result column="del" property="del"/>
	
	<collection property="store" resultMap="storeResult">	
	</collection>
	</resultMap>
	
	<resultMap type="store" id="storeResult">
		<result column="s_num" property="s_num"/>
		<result column="s_del" property="s_del"/>
		<result column="s_Pclass" property="s_Pclass"/>
		<result column="s_Pname" property="s_Pname"/>
		<result column="s_Pconfig" property="s_Pconfig"/>
		<result column="s_Pimage" property="s_Pimage"/>
		<result column="s_purchase" property="s_purchase"/>
		<result column="s_prive" property="s_prive"/>		
		<result column="del" property="del"/>							
		<result column="s_per" property="s_per"/>	
		<result column="s_pernd" property="s_pernd"/>	
		<result column="s_total" property="s_total"/>
		<result column="s_sale" property="s_sale"/>		
	</resultMap>
	
	<select id="select" parameterType="integer" resultType="ord">
		select * from ord where ord_num=#{ord_num}
	</select>
	
	<select id="list" parameterType="string" resultType="ord">
	select * from ord where member_id=#{member_id}
	</select>
	
	<select id="listOne" parameterType="map" resultType="ord">
	select * from ord where ord_num=#{ord_num} and s_num=#{s_num}
	</select>
	
	
	<select id="memberStore" parameterType="string" resultType="ord">
		select * from ord where member_id = #{member_id}
	</select> <!--  -->
	
	<insert id="insert" parameterType="ord">
	insert into ord values(
	#{ord_num},#{member_id},#{s_num},
	#{s_purchase},#{full_price},#{buy_date},#{s_validity},
	#{buy_i},#{del})
	</insert>
	
	

	</mapper>